# VoxLens UI Overview

## アプリケーション画面

VoxLensのStreamlit UIは以下のセクションで構成されています：

### 1. ヘッダー
- アプリケーション名とアイコン 🎙️
- 機能説明（話者分離、文字起こし、AI要約）

### 2. サイドバー（設定パネル）
```
⚙️ 設定
├── HuggingFace Token [入力フィールド]
├── ☑ CUDAを使用
├── ☑ 長い文書にMapReduceを使用
└── [必要な設定の説明]
```

**必要な設定:**
- HuggingFace Token: pyannote.audioを使用するために必須
- CUDA: GPU使用の有効/無効（自動検出）
- MapReduce: 長い音声に推奨

### 3. メインパネル

#### 音声ファイルアップロード
```
📁 音声ファイルのアップロード
┌─────────────────────────────┐
│ ファイルをドラッグ＆ドロップ  │
│     または選択              │
└─────────────────────────────┘
対応フォーマット: MP3, WAV
```

#### 処理ボタン
```
🚀 処理開始 [ボタン]
```

### 4. 処理進捗表示

処理中は以下のように進捗が表示されます：

```
🗣️ 話者分離を実行中...
[進捗バー: ████████░░░░░░░░░░] 35%

検出された話者セグメント数: 15

📝 文字起こしを実行中...
[進捗バー: ████████████████░░] 70%

📊 要約を生成中...
[進捗バー: ████████████████████] 100%

✅ 処理完了！
```

### 5. 結果表示（2カラムレイアウト）

処理完了後、画面が2つに分かれて結果を表示：

```
┌─────────────────────────────┬─────────────────────────────┐
│ 📄 話者ラベル付き全文         │ 📊 要約結果                  │
│                             │                             │
│ SPEAKER_00: こんにちは      │ この会話では、プロジェクトの │
│ SPEAKER_01: よろしく        │ 進捗状況について議論されて   │
│ お願いします                │ います。主な合意事項は...    │
│ SPEAKER_00: 今日は...       │                             │
│ ...                         │ 重要なポイント:             │
│                             │ 1. スケジュール確認          │
│ [テキストエリア: 400px高]    │ 2. タスクの割り当て          │
│                             │ 3. 次回ミーティング日程      │
│ 📥 全文をダウンロード [ボタン] │                             │
│                             │ 📥 要約をダウンロード [ボタン] │
└─────────────────────────────┴─────────────────────────────┘
```

#### 左カラム: 話者ラベル付き全文
- 各話者の発言が `SPEAKER_XX:` 形式でラベル付け
- スクロール可能なテキストエリア
- ダウンロードボタンでテキストファイルとして保存可能

#### 右カラム: AI生成要約
- 話者間の関係性を考慮した要約
- 重要なポイントを簡潔にまとめたテキスト
- ダウンロードボタンでテキストファイルとして保存可能

### 6. フッター
```
───────────────────────────────────────
VoxLens - Powered by pyannote.audio,
faster-whisper, and LangChain
```

## 使用例

### シナリオ1: 短い会議の文字起こし（5分）

1. サイドバーにトークンを入力
2. 会議録音ファイル（meeting.mp3）をアップロード
3. 「処理開始」をクリック
4. 約2-3分後、話者別の議事録と要約が表示される
5. 両方をダウンロードして保存

### シナリオ2: 長いインタビューの要約（30分）

1. サイドバーで「長い文書にMapReduceを使用」をチェック
2. インタビュー録音（interview.wav）をアップロード
3. 「処理開始」をクリック
4. 約10-15分後、完全な文字起こしと要約が表示される
5. 必要な部分を確認・ダウンロード

## エラー表示

エラーが発生した場合、赤いボックスで表示されます：

```
❌ エラーが発生しました: [エラーメッセージ]

[詳細なスタックトレース]
```

一般的なエラー：
- ❌ HuggingFace Tokenを入力してください
- ❌ Ollamaに接続できません
- ❌ CUDAメモリ不足

## UI設計のポイント

### ユーザビリティ
- ✅ シンプルで直感的な操作フロー
- ✅ 進捗状況の可視化
- ✅ エラーメッセージの明確な表示
- ✅ 結果の見やすい2カラム表示

### アクセシビリティ
- 📱 レスポンシブデザイン（ワイドレイアウト）
- 🎨 絵文字アイコンで視覚的に分かりやすく
- 📝 日本語UIで親しみやすい
- ⌨️ キーボード操作対応（Streamlit標準）

### パフォーマンス
- ⚡ 非同期処理で応答性を維持
- 💾 大きなファイルも処理可能
- 🔄 進捗バーでユーザーに状況を通知

---

**Note**: 実際のスクリーンショットは、アプリケーション起動後に撮影できます。
